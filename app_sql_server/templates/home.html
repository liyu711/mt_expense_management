<!DOCTYPE html>
<body>
<h1>Home</h1>

<a href="/file_upload">
    <button type="button">Go to Workstation</button>
</a>
<a href="/select">
    <button  type="button">Go to retrive data</button>
</a>

<a href="/manual_input">
    <button type="button">Go to manual input data</button>
</a>


<form id="resetForm" action="/reset" method="POST">
    <button name="trigger_warning" type="button" onclick="showModal()">Reset database</button>
</form>

<!-- Modal Popup -->
<div id="confirmModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:1000; align-items:center; justify-content:center; overflow:auto; padding:12px 0;">
    <div style="background:#fff; padding:32px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.2); max-width:350px; width:min(92vw,350px); margin:24px auto; text-align:center; max-height:calc(100vh - 48px); overflow:auto;">
        <h3>Confirm Reset</h3>
        <p>Are you sure you want to reset the database?</p>
        <div style="margin-top:24px; display:flex; gap:16px; justify-content:center;">
            <button onclick="submitReset()" style="background:#d9534f; color:#fff; border:none; padding:8px 16px; border-radius:4px;">Reset Database</button>
            <button onclick="goHome()" style="background:#007bff; color:#fff; border:none; padding:8px 16px; border-radius:4px;">Go Home</button>
        </div>
    </div>
</div>

<script>
function showModal() {
    document.getElementById('confirmModal').style.display = 'flex';
}
function submitReset() {
    document.getElementById('resetForm').submit();
}
function goHome() {
    window.location.href = '/';
}
// Hide modal when clicking outside
document.getElementById('confirmModal').addEventListener('click', function(e) {
    if (e.target === this) {
        this.style.display = 'none';
    }
});
</script>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <ul class="flashes">
            {% for category, message in messages %}
                <li class="alert alert-{{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}

</body>